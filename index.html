<!DOCTYPE html>
<html>
   <head>
      
      <title>courrrt</title>
      
      <link rel="stylesheet" type="text/css" href="style/reset-min.css" />
      <link rel="stylesheet/less" type="text/less" href="style/list.less" />
      
      <script type="text/javascript" src="script/lib/jquery-1.6.2.js"></script>
      <script type="text/javascript" src="script/lib/jquery-tmpl.js"></script>
      <script type="text/javascript" src="script/lib/knockout-1.2.1.debug.js"></script>
      <script type="text/javascript" src="script/lib/less-1.1.4.js"></script>
      
      <script type="text/javascript" src="script/ext/ko.bindingHandlers.js"></script>
      
      <script type="text/javascript" src="script/viewModels/viewModel.js"></script>
      <script type="text/javascript" src="script/viewModels/viewModel.list.js"></script>
      
      <script type="text/javascript">
         $(document).ready(function () {
            
            // Set HTML title
            dribbble.viewModel.list.subscribe(function () {
               window.document.title = this.title + " \u2192 " + this.list();
            }, window.dribbble.viewModel)
            
            // Default feed
            dribbble.viewModel.list("popular");
            
            // Ready, set...
            ko.applyBindings(dribbble.viewModel);
            
         });
      </script>
      
   </head>
   <body data-bind="scroll: { call: list.fetch, within: 500, of: 'bottom', watch: list.items }">
      
      <header class="page">
         <div class="wrapper">
            <nav>
               <ul data-bind="template: 'listFeeds'"></ul>
               <script id="listFeeds" type="text/x-jquery-tmpl">
                  {{each(name, url) list.feeds}}
                     <li data-bind="css: { selected: list() === name }, click: function () { list(name); }">
                        ${name}
                     </li>
                  {{/each}}
               </script>
            </nav>
         
            <h1 data-bind="text: title"></h1>
            <div class="loading" data-bind="visible: list.state() === 'loading'"></div>
         </div>
      </header>
      
      <section class="shots-list">
         <ul data-bind="template: { name: 'listItem', foreach: list.items }"></ul>
         <script id="listItem" type="text/x-jquery-tmpl">
            <li>
               <img src="${image_teaser_url}" />
            </li>
         </script>
      </section>
      
   </body>
</html>